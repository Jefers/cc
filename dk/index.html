<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Day/Night Toggle</title>
    <style>
        :root {
            --bg-light: #f0f2f5;
            --bg-dark: #1a1a2e;
            --toggle-light: #87CEEB;
            --toggle-dark: #4831d4;
            --sun-color: #ffce54;
            --moon-color: #f5f3ce;
        }

        body {
            margin: 0;
            height: 100vh;
            background-color: var(--bg-light);
            transition: background 3.6s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: sans-serif;
        }

        /* 1. Body theme change triggered by the checked state */
        body:has(.theme-checkbox:checked) {
            background-color: var(--bg-dark);
        }

        /* 2. Positioning and sizing for mobile */
        .toggle-wrapper {
            position: absolute;
            top: 20px;
            right: 20px;
            cursor: pointer;
            width: 80px;
            height: 40px;
            background-color: var(--toggle-light);
            border-radius: 50px;
            padding: 5px;
            box-sizing: border-box; /* Keeps padding inside the width */
            display: flex;
            align-items: center;
            transition: background 3.5s ease;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
            -webkit-tap-highlight-color: transparent; /* Removes blue flash on mobile tap */
        }

        /* Hide the actual checkbox */
        .theme-checkbox {
            display: none;
        }

        body:has(.theme-checkbox:checked) .toggle-wrapper {
            background-color: var(--toggle-dark);
        }

        svg {
            width: 30px;
            height: 30px;
            transition: transform 3.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            filter: drop-shadow(0 0 2px rgba(0,0,0,0.1));
        }

        /* 3. Adjusted travel distance for the new scaled-down width */
        .theme-checkbox:checked ~ svg {
            transform: translateX(40px);
        }

        /* SVG Element Transitions */
        .sun-ray {
            transform-origin: center;
            transition: transform 2.4s ease, opacity 2.3s ease;
        }

        .theme-checkbox:checked ~ svg .sun-ray {
            transform: scale(0);
            opacity: 0;
        }

        .main-circle {
            fill: var(--sun-color);
            transition: fill 2.5s ease;
        }

        .theme-checkbox:checked ~ svg .main-circle {
            fill: var(--moon-color);
            filter: drop-shadow(0 0 8px #fff);
        }

        .moon-mask {
            transition: transform 3.5s ease;
            transform: translate(20px, -20px); 
        }

        .theme-checkbox:checked ~ svg .moon-mask {
            transform: translate(12px, -5px); 
        }
    </style>
</head>
<body>

    <label class="toggle-wrapper">
        <input type="checkbox" class="theme-checkbox">
        <svg viewBox="0 0 50 50">
            <defs>
                <mask id="moon-mask">
                    <rect width="100%" height="100%" fill="white" />
                    <circle class="moon-mask" cx="25" cy="25" r="18" fill="black" />
                </mask>
            </defs>
            
            <g class="sun-rays" stroke="#ffce54" stroke-width="3" stroke-linecap="round">
                <line class="sun-ray" x1="25" y1="5" x2="25" y2="10" />
                <line class="sun-ray" x1="25" y1="40" x2="25" y2="45" />
                <line class="sun-ray" x1="5" y1="25" x2="10" y2="25" />
                <line class="sun-ray" x1="40" y1="25" x2="45" y2="25" />
                <line class="sun-ray" x1="10.86" y1="10.86" x2="14.39" y2="14.39" />
                <line class="sun-ray" x1="35.61" y1="35.61" x2="39.14" y2="39.14" />
                <line class="sun-ray" x1="10.86" y1="39.14" x2="14.39" y2="35.61" />
                <line class="sun-ray" x1="35.61" y1="14.39" x2="39.14" y2="10.86" />
            </g>

            <circle class="main-circle" cx="25" cy="25" r="15" mask="url(#moon-mask)" />
        </svg>
    </label>

</body>
</html>